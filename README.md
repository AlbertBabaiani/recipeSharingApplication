# Recipe Sharing Application

ეს გახლავთ რეცეპტების გამზიარებელი აპლიკაცია, რომელიც აწყობილია **Angular 18**-ის გამოყენებით. ამ აპლიკაციაში მომხმარებლებს შეუძლიათ ატვირთონ, ნახონ, ჩაასწორონ და წაშალონ სხვადასხვა რეცეპტები.

## ლოკალურად გაშვება

### დამოკიდებულებების ინსტალაცია

ყველა საჭირო `npm` პაკეტის დასაყენებლად გაუშვით შემდეგი ბრძანება:

```
npm install
```

### JSON სერვერის გაშვება

პროექტი იყენებს `json-server`-ს back-end-ის სიმულაციისთვის. სერვერის გასაშვებად გამოიყენეთ:

```
npm run server
```

ეს ბრძანება შეასრულებს შემდეგს:

```
json-server --watch db.json
```

### Angular აპლიკაციის გაშვება

```
ng serve
```

აპლიკაცია იქნება ხელმისაწვდომი http://localhost:4200/ მისამართზე.

## გამოყენებული ტექნოლოგიები

- **SCSS** სტილისთვის.
- **Bootstrap** UI კომპონენტებისთვის.
- **Angular Reactive Forms** ფორმებისა და ვალიდაციისთვის.
- **Angular Router** ნავიგაციისთვის.
- **JSON Server** ბექ-ენდის სიმულაციისთვის.
- **UUIDv4** რეცეპტის უნიკალური იდენტიფიკატორისთვის.
- **Pipe**-ები ტექსტების ფორმატირებისთვის.

## პროექტის მახასიათებლები

1. **რეცეპტების სიის წამოღება**

   - იღებს რეცეპტების სიას ფსევდო back-end-დან.
   - ინახავს თავდაპირველ სიას გაფილტვრისთვის.
   - იყენებს `RxJS`-ის `switchMap`-სა და `catchError`-ს შეცდომების დამუშავებისთვის.

1. **რეცეპტების გაფილტვრა**

   - შესაძლებელია რეცეპტების გაფილტვრა სათაურით, ინგრედიენტებით ან **"რჩეულებით"**.

1. **კონკრეტული რევეპტის წამოღება**

   - იღებს კონკრეტულ რეცეპტს მისი ID-ის მიხედვით.

1. **ახალი რეცეპტის დამატება**

   - იყენებს `HTTP POST` მეთოდს ახალი რეცეპტის შესაქმნელად და უნიკალურ ID-ის `UUIDv4`-ის გამოყენებით.
   - ანახლებს ლოკალურ სიას და გადააქვს მომხმარებელი მთავარ გვერდზე.

1. **არსებული რეცეპტის განახლება**

   - იყენებს `HTTP PUT` მეთოდს რეცეპტის დეტალების განახლებისთვის.
   - ანახლებს ლოკალურ სიას და გადააქვს მომხმარებელი მთავარ გვერდზე.

1. **"რჩეულის" სტატუსის განახლება**

   - იყენებს `HTTP PATCH` მეთოდს რეცეპტის ფავორიტად მონიშვნის ან მოხსნისთვის.
   - განახლების შემდეგ იღებს ახალ რეცეპტების სიას.

1. **რეცეპტის წაშლა**

   - იყენებს `HTTP DELETE` მეთოდს რეცეპტის წასაშლელად.
   - ანახლებს ლოკალურ სიას და გადააქვს მომხმარებელი მთავარ გვერდზე.

## ძირითადი იმპლემენტაციები

- **Signal-ები და Computed Properties**

  - იყენებს Angular-ის სიგნალებს `(signal<IRecipe[]>)` მონაცემთა მართვისთვის.
  - იყენებს `input` სიგნალებს კომპონენტთა შორის მონაცემების მიმოცვლისთვის.

- **Dependency Injection**

  - იყენებს `HttpClient`-ს `API`-თან კომუნიკაციისთვის.
  - მოიცავს `Router`-ს ნავიგაციისთვის.
  - იყენებს `ActivatedRoute`-ს `query` პარამეტრების დამუშავებისთვის.

- **State Management**
  - იყენებს `loading` signal-ს ჩატვირთვის პროგრესის თვალყურისდევნებისთვის.

## შეცდომების დამუშავება

ყველა `HTTP` ოპერაციას ახვევს `catchError` ბლოკში, რათა თავიდან აიცილოს სისტემური შეცდომები.
ლოგავს შეცდომებს კონსოლში და არ უშვებს აპლიკაციის ავარიულ გამორთვას.

## პროექტის სტრუქტურა

```
public/
│── images/
│   ├── no-image.jpg
src/
│── app/
│   ├── Components/
│   │   ├── add-new-recipe-btn/
│   │   ├── loader/
│   │   ├── navbar/
│   │   ├── recipe-list/
│   │   │   ├── Pipes/
│   │   │   ├── recipe-card/
│   │   ├── search/
│   ├── Models/
│   │   ├── recipe.model.ts
│   ├── Pages/
│   │   ├── home/
│   │   ├── error-page/
│   │   ├── recipe-details/
│   │   ├── new-recipe/
│   │   │   ├── Guards/
│   │   │   ├── validation-message/
│   │   │   ├── Validators/
│   ├── Services/
│   │   ├── recipe-list.service.ts
│   ├── environments/
```

## Routing Configuration

- როდესაც მომხმარებლი აპლიკაციას გახსნის, ის გადამისამართდება რეცეპტების სიის გვერდზე.

- რეცეპტზე დაჭერისას მომხმარებელი რეცეპტის დეტალების გვერდზე გადავა, სადაც მას შეუძლია იხილოს სრული აღწერა და ინგრედიენტები.
- მომხმარებლი ახალ რეცეპტებს ამატებეს ახალი რეცეპტების გვერდიდან. თუ მომხმარებელი შეეცდება დატოვოს გვერდი ცვლილებების შენახვის გარეშე, ვებ-აბლიკაცია შეატყობინებს ამის შესახებ. (guard-ის დამსახურებით).
- რეცეპტის რედაქტირების გვერდის მეშვეობით, მომხმარებელს შეეძლება რეცეპტის მნიშვნელობების ჩანაცვლება. კვლავ, ვებ-აპლიკაცია გააფრთხილებს შეუნახავი პროგრესის შესახებ.
- თუ მომხმარებლი არასწორ URL-ის გახსნის, ის გადავა 404 შეცდომის გვერდზე. ამ შემთხვევაში მომხმარებელს დავაკვალიანებთ მთავარი გვერდისკენ.
- გვერდის სათაური დინამიურად ნახლდება მარშრუტის მიხედვით, რაც უზრუნველყოფს მკაფიო და გამართულ ბრაუზინგს.

## Preloading Strategy

ბევრი კომპონენტი `lazy load`-ითაა ჩატვირთული.

თუმცა, გაუმჯობესებული სისწრაფისა და გამოყენებისთვის, ასევე დავამატე `Preloading`, რომელიც `lazy load` კომპონენტებს წინასწარ ჩატვირთავს.

## Recipe Model

მდებარეობს `src/app/Interfaces/IRecipe.interface.ts`:

```typescript
export interface IRecipe {
  id: string; // გენერირებულია UUIDv4 მიერ
  title: string;
  description: string;
  ingredients: string[];
  instructions: string;
  imageUrl: string;
  favourite: boolean;
}
```

## Environment Configuration

მოთავსებულია `src/environments/environment.ts`:

```typescript
export const environment = {
  production: false,
  apiUrl: "http://localhost:3000/recipes",
};
```

## კომპონენტების ზოგადი მიმოხილვა

### Search Component

მონაცემების შესაყვანად გამოიყენება ჩვეულებრივი `text input` და რადგან ძალიან მარტივ `form`-თან ვმუშაობთ ვიყენებთ `Template Driven Form`-ს.

Search-ის მნიშვნელობის შესანახად გამოვგამოიყენება არა ჩვეულებრივი სტრინგი, არამედ **სიგნალი** და ორ-მხრივი Data Binding.

მოძებნის ღილაკი მხოლოდ მაშინ აქტიურდება, როცა `search_value()` სიგნალის მნიშვნელობა ჰარების გარეშე მეტია ნულზე.

რეცეფტების ფილტრაცია სრულდება `query string`-ების მეშვეობით.

მაგალითად:

- `recipe-list?search=pizza`
- `recipe-list?favourites=true`
- `recipe-list?search=pizza&favourites=true`

Reset ღილაკი აშორებს `Query string`-ებს.

კომპონენტი ასევე ყოველთვის აკვირდება `query string` **favourites**-ის მნიშვნელობას, რათა favourite-ების ღილაკი აჩვენებდეს აქტუალურ მნიშვნელობას.

### Loader Component

აჩვენებს ჩატვირთვის ანიმაციას.

### Add new recipe btn Component

მომხმარებელი გადაჰყავს ახალი რეცეფტის შექმნის გვერდზე.

ეს ღილაკი ორგანაა გამოყენებული ამიტომ ცალკე კომპონენტადაა გატანილი.

### Navbar Component

მოთავსებულია navbar, რომელიც ყველა გვერდიდანაა ხელმისაწვდომი.

მომხმარებელი გადაჰყავს სხვადასხვა გვერდზე.

### Recipe list component

რესპონსიულად გამოაქვს რეცეფტების სია.

ეს სია სერვისიდანაა წამოღებულია როგორც **readonly სიგნალი**. ასევე ამ სიის სიგრძე.

მშობელი კომპონენტიდან, `custom property binding`-ით, ოღონდ, მისი თანამედროვე ალტერნატივით, რომელიც მუშაობს სიგნალზე - `input`, იღებს search-ში აკრეფილ მნიშვნელობას.

#### Recipe Card

მშობლიდან იღებს recept-ს, ისევ **Input** სიგნალის გამოყენებით. რადგან აუცილებელია ამ კომპონენტისთვის, ეს ინფუთი მითითებულია როგორც required.

ამ კომპონენტში ასევე გამოყენებულია ჩაშენებული `titlecase` pipe და ტექსტის შესამოკლებელი `custom pipe TruncatePipe`, რომელიც ტექსტს ამოკლებს და ბოლოში უმატებს `...`.

და ბოლოს `i18nPlural` pipe, რომელიც გამოიყენება მრავლობითობის გრამატიკულად საჩვენებლად.

### Recipe Details Component

გამოიაქვს დეტალური ინფორმაცია რეცეფტის შესახებ, რაც მიიღწევა `query parameter` მნიშვნელობის წამოღებით.

გვაძლევს საშუალებას დავაედითოთ რეცეპტი.

### New Recipe Component

რადგან რეცეფტის დამატება და მისი მონაცემების შეცვლა ერთმანეთს ჰგვანან, ამ კომპონენტს მივეცი ორმაგი დანიშნულება: Adding & Editing.

კომპონენტის ჩატვირთვისას აკვირდება თუ როუტში არის query string id. თუ არის მაშინ კომპონენტი იცვლება ედითინგისთვის და ფორმას მნიშვნელობები ენიჭება ამ id-ის მიხედვით. წინააღმდეგ შემთხვევაში კი იქმნება ცარიელი ფორმა.

თვითონ form აწყობილია `Reactive Form`-ის გამოყენებით.

ვალიდაცია მოქმედდება `blur`-ზე, გარდა `favourite button`-სა და `Image preview`-სი, რათა მომხმარებელმა შეძლოს Live რეჟიმში ნახოს სურათი.

თუ მომხმარებელი შეიყვანს სწორ ბმულს მაგრამ ის არ ჩაირთვება, ეს სურათი შეიცვლება placeholder-ით.

ვალიდაციისთვის გამოიყენება როგორც ჩაშენებული, ისევე custom ვალიდატორები.

მართალია, ვალიდაციის მესიჯები დინამიურია, მაგრამ მათი კოდი მეორდება, ამიტომაც ცალკე კომპონენტადაა გატანილი.

აქ შეგიძლიათ დაამატოთ ან წაშალოთ ინგრედიენტები. თუ მათი რაოდენობა ერთის ტოლია, მაშინ ქრება ამ ინგრედიენტის წაშლის ღილაკიც, რადგან მინიმუმ ერთი მაინც უნდა დაემატოს.

თუ მომხმარებელმა რამე შეცვალა და შენახვის გარეშე გადაწვიტა გვერდის დატოვება, ვებ-აპლიკაცია `routing guard`-ის გამოყენებით შეეკითხება თუ სურს გასვლა.

---

# RecipeSharing

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 18.2.14.

## Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via a platform of your choice. To use this command, you need to first add a package that implements end-to-end testing capabilities.

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI Overview and Command Reference](https://angular.dev/tools/cli) page.
